cmake_minimum_required(VERSION 3.16)

include(ExternalProject)

find_package(VTK CONFIG QUIET)


if(NOT VTK_FOUND)

  ExternalProject_Add(
      VTK
      SOURCE_DIR "${VTK_SRC}"
      CMAKE_ARGS
        -DBUILD_SHARED_LIBS:BOOL=ON
        -DCMAKE_INSTALL_PREFIX=${VTK_DIR}
        -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
        -DCMAKE_CXX_COMPILER=${CMAKE_CXX_COMPILER}
        -DCMAKE_CXX_STANDARD=${CMAKE_CXX_STANDARD}
        -DCMAKE_CXX_EXTENSIONS=${CMAKE_CXX_EXTENSIONS}
        -DCMAKE_CXX_STANDARD_REQUIRED=${CMAKE_CXX_STANDARD_REQUIRED}
      CMAKE_CACHE_ARGS
        -DCMAKE_CXX_FLAGS:STRING=${CMAKE_CXX_FLAGS}
        -DVTK_BUILD_TESTING:BOOL=OFF
  )

endif()
